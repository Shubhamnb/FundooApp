package com.bridge.LinkedListComDataPro;

import java.io.File;
import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.IOException;
import java.util.ArrayList;

import org.json.simple.JSONArray;
import org.json.simple.JSONObject;
import org.json.simple.parser.JSONParser;
import org.json.simple.parser.ParseException;

import com.bridge.LinkedListComDataPro.CompanyStock;
import com.bridge.commercialdataprosessing.CommercialUserProj;

import Utility.LinkedList;

public class ReadJson {
	
	private String comPath = "companyStock.json";
	private String userPath = "userStock.json";
	JSONParser parser = new JSONParser();
	JSONObject jsonObj;
	JSONArray  jsonArray, array;
	JSONObject simple;
	JSONObject obj;
	
	public void addToLinkedList() throws FileNotFoundException, IOException, ParseException {

		LinkedList list = new LinkedList();
		File file1 = new File(comPath);
		parser = new JSONParser();
		jsonObj = (JSONObject) parser.parse(new FileReader(file1));
		array = (JSONArray) jsonObj.get("StockDetails");
		CommercialUserProj userShare;

		//Convert JSON Array into List
		list = convertComJsonArrayToList(array);
		list.show();
				
		
		//Convert JSON Array into List
		LinkedList list1 = new LinkedList();
		File file2 = new File(userPath);
		parser = new JSONParser();
		jsonObj = (JSONObject) parser.parse(new FileReader(file2));
		array = (JSONArray) jsonObj.get("UserDetails");
		list1 = convetUserJsonArrayToList(array);
		
		
		
		list1 = co
	}

	private LinkedList convetUserJsonArrayToList(JSONArray array2) {
		System.out.println("User Share :");
		for (int i = 0; i < array.size(); i++) {
			obj = (JSONObject) array.get(i);
			
			userShare = new CommercialUserProj();
			String sharePrice = obj.get("SharePrice").toString();
			userShare.setPrice(sharePrice);

			String noOfShare = obj.get("NoOfShare").toString();
			userShare.setNoOfShares(noOfShare);

			String userName = obj.get("UserName").toString();
			userShare.setUserName(userName);

			list1.add(userShare);
		}
		return null;
	}

	private  LinkedList covertComJsonArrayToList(JSONArray array) {
		CompanyStock companyStock;
		
		LinkedList list = new LinkedList();
		
		System.out.println("Company Share :");
		for (int i = 0; i < array.size(); i++) {
			obj = (JSONObject) array.get(i);
			
			companyStock = new CompanyStock();
			String sharePrice = obj.get("SharePrice").toString();
			companyStock.setSharePrice(sharePrice);

			String noOfShare = obj.get("NoOfShare").toString();
			companyStock.setNoOFShare(noOfShare);

			String stockName = obj.get("StockName").toString();
			companyStock.setStockName(stockName);

			String stockSymbol = obj.get("StockSymbol").toString();
			companyStock.setStockSymbol(stockSymbol);

			//list.add(companyStock);
		}

		return list;
	}
	

}
